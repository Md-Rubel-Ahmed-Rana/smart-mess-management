# npm run type-check

# npx lint-staged

#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

BRANCH=$(git rev-parse --abbrev-ref HEAD)

# Run only for backend branch or backend folder changes
if [[ "$BRANCH" == "backend" ]] || git diff --cached --name-only | grep -q "^backend/"; then
  echo "ğŸŸ¢ Backend commit detected â€” running tests, build, lint..."

  cd backend

  npm install --silent
  npm run lint || exit 1
  npm run test || exit 1
  npm run build || exit 1

  echo "âœ… Backend pre-commit checks passed!"
else
  echo "â„¹ï¸ No backend changes â€” skipping backend pre-commit checks."
fi
